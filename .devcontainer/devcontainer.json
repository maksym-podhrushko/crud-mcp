{
  "name": "Dev Container",
  "dockerComposeFile": [
    "docker-compose.dev.yml"
    // "../docker-compose.yml" // Optionally, if we don't use a separate dev compose
  ],

  // The service in docker-compose that we attach to for coding
  "service": "devcontainer",

  // VS Code will mount the repo here in the dev container
  "workspaceFolder": "/workspace",

  // Override the default command if needed
  "overrideCommand": false,

  // Run the container with host network mode

  // // Forward any ports you might want to access from your host machine
  // "forwardPorts": [3000, 8080, 8081, 8082, 8083, 5173, 3306],

  // Run commands after the container is created, e.g., installing dependencies
  "postCreateCommand": "sudo chmod 666 /var/run/docker.sock && chmod +x .devcontainer/setup.sh && .devcontainer/setup.sh && cd .devcontainer && ./setup.sh && echo 'Setup done :)'",
  // If you want to run as root or a specific user
  "remoteUser": "vscode",
  "customizations": {
    "vscode": {
      "extensions": [
        "ms-azuretools.vscode-docker",
        "mwpb.java-prettier-formatter",
        "redhat.java",
        "esbenp.prettier-vscode",
        "rvest.vs-code-prettier-eslint",
        "vscjava.vscode-java-pack",
        "GitHub.copilot",
        "GitHub.copilot-chat",
        "ms-vscode.vscode-websearchforcopilot",
        "redhat.vscode-xml",
        "rangav.vscode-thunder-client",
        "pixl-garden.BongoCat"
      ],
      "settings": {
        "editor.formatOnSave": true,
        "editor.defaultFormatter": "esbenp.prettier-vscode",
        "[java]": {
          "editor.defaultFormatter": "redhat.java"
        }
      }
    }
  }
}
